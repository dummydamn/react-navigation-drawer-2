"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = build;

var _del = _interopRequireDefault(require("del"));

var _compile = _interopRequireDefault(require("../utils/compile"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

async function build({
  root,
  source,
  output,
  options,
  report
}) {
  report.info('Cleaning up previous build');
  await (0, _del.default)([output]);
  await (0, _compile.default)({
    root,
    source,
    output,
    options: {
      presets: [[require.resolve('metro-react-native-babel-preset'), {
        disableImportExportTransform: true
      }]]
    },
    flow: options && options.flow ? true : false,
    report
  });
}
//# sourceMappingURL=module.js.map
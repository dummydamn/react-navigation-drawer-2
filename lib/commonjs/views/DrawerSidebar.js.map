{"version":3,"names":["DrawerSidebar","getScreenOptions","routeKey","descriptor","props","descriptors","options","Error","getLabel","focused","tintColor","route","key","drawerLabel","title","routeName","renderIcon","drawerIcon","handleItemPress","navigation","closeDrawer","dispatch","NavigationActions","navigate","ContentComponent","contentComponent","state","index","styles","container","style","contentOptions","drawerOpenProgress","routes","screenProps","drawerPosition","React","PureComponent","StyleSheet","create","flex"],"sources":["DrawerSidebar.tsx"],"sourcesContent":["import * as React from 'react';\nimport { StyleSheet, View, ViewStyle } from 'react-native';\nimport {\n  NavigationActions,\n  NavigationRoute,\n  NavigationScreenProp,\n} from 'react-navigation';\nimport Animated from 'react-native-reanimated';\nimport {\n  Scene,\n  NavigationDrawerState,\n  DrawerContentComponentProps,\n  SceneDescriptorMap,\n} from '../types';\n\ntype Props = {\n  contentComponent?: React.ComponentType<DrawerContentComponentProps>;\n  contentOptions?: object;\n  screenProps?: unknown;\n  navigation: NavigationScreenProp<NavigationDrawerState>;\n  descriptors: SceneDescriptorMap;\n  drawerOpenProgress: Animated.Node<number>;\n  drawerPosition: 'left' | 'right';\n  style?: ViewStyle;\n};\n\n/**\n * Component that renders the sidebar screen of the drawer.\n */\nclass DrawerSidebar extends React.PureComponent<Props> {\n  private getScreenOptions = (routeKey: string) => {\n    const descriptor = this.props.descriptors[routeKey];\n\n    if (!descriptor.options) {\n      throw new Error(\n        'Cannot access screen descriptor options from drawer sidebar'\n      );\n    }\n\n    return descriptor.options;\n  };\n\n  private getLabel = ({ focused, tintColor, route }: Scene) => {\n    const { drawerLabel, title } = this.getScreenOptions(route.key);\n    if (drawerLabel) {\n      return typeof drawerLabel === 'function'\n        ? drawerLabel({ tintColor, focused })\n        : drawerLabel;\n    }\n\n    if (typeof title === 'string') {\n      return title;\n    }\n\n    return route.routeName;\n  };\n\n  private renderIcon = ({ focused, tintColor, route }: Scene) => {\n    const { drawerIcon } = this.getScreenOptions(route.key);\n    if (drawerIcon) {\n      return typeof drawerIcon === 'function'\n        ? drawerIcon({ tintColor, focused })\n        : drawerIcon;\n    }\n    return null;\n  };\n\n  private handleItemPress = ({\n    route,\n    focused,\n  }: {\n    route: NavigationRoute;\n    focused: boolean;\n  }) => {\n    if (focused) {\n      this.props.navigation.closeDrawer();\n    } else {\n      this.props.navigation.dispatch(\n        NavigationActions.navigate({ routeName: route.routeName })\n      );\n    }\n  };\n\n  render() {\n    const ContentComponent = this.props.contentComponent;\n\n    if (!ContentComponent) {\n      return null;\n    }\n\n    const { state } = this.props.navigation;\n\n    if (typeof state.index !== 'number') {\n      throw new Error(\n        'The index of the route should be state in the navigation state'\n      );\n    }\n\n    return (\n      <View style={[styles.container, this.props.style]}>\n        <ContentComponent\n          {...this.props.contentOptions}\n          navigation={this.props.navigation}\n          descriptors={this.props.descriptors}\n          drawerOpenProgress={this.props.drawerOpenProgress}\n          items={state.routes}\n          activeItemKey={\n            state.routes[state.index] ? state.routes[state.index].key : null\n          }\n          screenProps={this.props.screenProps}\n          getLabel={this.getLabel}\n          renderIcon={this.renderIcon}\n          onItemPress={this.handleItemPress}\n          drawerPosition={this.props.drawerPosition}\n        />\n      </View>\n    );\n  }\n}\n\nexport default DrawerSidebar;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n});\n"],"mappings":"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"}